<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Porter Cook â€“ Engineering Portfolio</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #0f2027 0%, #203a43 50%, #2c5364 100%);
            color: #333;
            line-height: 1.6;
        }

        nav {
            position: fixed;
            top: 0;
            width: 100%;
            background: rgba(15, 32, 39, 0.95);
            backdrop-filter: blur(10px);
            padding: 1rem 2rem;
            z-index: 1000;
            box-shadow: 0 2px 20px rgba(0,0,0,0.3);
        }

        nav ul {
            list-style: none;
            display: flex;
            justify-content: center;
            gap: 2rem;
            flex-wrap: wrap;
        }

        nav a {
            color: #fff;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s;
            padding: 0.5rem 1rem;
            border-radius: 5px;
        }

        nav a:hover {
            background: rgba(100, 200, 255, 0.2);
            transform: translateY(-2px);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        section {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 4rem 2rem;
        }

        .content-box {
            background: rgba(255, 255, 255, 0.98);
            padding: 3rem;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            width: 100%;
            max-width: 900px;
            animation: fadeInUp 0.8s ease;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        h1 {
            font-size: 3rem;
            color: #0f2027;
            margin-bottom: 1rem;
            background: linear-gradient(135deg, #0f2027, #2c5364);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        h2 {
            font-size: 2rem;
            color: #0f2027;
            margin-bottom: 1.5rem;
            border-bottom: 3px solid #2c5364;
            padding-bottom: 0.5rem;
        }

        h3 {
            color: #203a43;
            margin-top: 1.5rem;
            margin-bottom: 0.5rem;
        }

        .hero-subtitle {
            font-size: 1.3rem;
            color: #555;
            margin-bottom: 2rem;
        }

        .contact-info {
            display: flex;
            gap: 2rem;
            flex-wrap: wrap;
            margin-top: 1rem;
        }

        .contact-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: #555;
        }

        .skill-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }

        .skill-tag {
            background: linear-gradient(135deg, #2c5364, #203a43);
            color: white;
            padding: 0.7rem 1rem;
            border-radius: 10px;
            text-align: center;
            font-weight: 500;
            transition: all 0.3s;
            cursor: default;
        }

        .skill-tag:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 10px 25px rgba(44, 83, 100, 0.3);
        }

        .experience-item, .education-item {
            margin-bottom: 2rem;
            padding: 1.5rem;
            background: #f8f9fa;
            border-radius: 10px;
            border-left: 4px solid #2c5364;
            transition: all 0.3s;
        }

        .experience-item:hover, .education-item:hover {
            transform: translateX(5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .date {
            color: #2c5364;
            font-weight: 600;
            font-size: 0.9rem;
        }

        .project-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }

        .project-card {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            padding: 2rem;
            border-radius: 15px;
            transition: all 0.3s;
            cursor: pointer;
            border: 2px solid transparent;
        }

        .project-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 40px rgba(0,0,0,0.2);
            border-color: #2c5364;
        }

        .project-card h3 {
            color: #0f2027;
            margin-top: 0;
        }

        .project-card img {
            width: 100%;
            border-radius: 10px;
            margin-bottom: 1rem;
        }

        .project-tech {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
            margin-top: 1rem;
        }

        .tech-badge {
            background: #2c5364;
            color: white;
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.8rem;
        }

        ul {
            margin-left: 1.5rem;
            margin-top: 0.5rem;
        }

        li {
            margin-bottom: 0.5rem;
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 2rem;
            }

            h2 {
                font-size: 1.5rem;
            }

            .content-box {
                padding: 2rem;
            }

            nav ul {
                gap: 1rem;
            }
        }

        .cta-button {
            display: inline-block;
            background: linear-gradient(135deg, #2c5364, #203a43);
            color: white;
            padding: 1rem 2rem;
            border-radius: 30px;
            text-decoration: none;
            margin-top: 2rem;
            transition: all 0.3s;
            font-weight: 600;
        }

        .cta-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(44, 83, 100, 0.4);
        }
    </style>
</head>
<body>
    <nav>
        <ul>
            <li><a href="#home">Home</a></li>
            <li><a href="#about">About</a></li>
            <li><a href="#experience">Experience</a></li>
            <li><a href="#skills">Skills</a></li>
            <li><a href="#portfolio">Portfolio</a></li>
            <li><a href="#school-projects">School Projects</a></li>
            <li><a href="#education">Education</a></li>
            <li><a href="#contact">Contact</a></li>
        </ul>
    </nav>

    <section id="home">
        <div class="content-box">
            <div style="display: flex; align-items: center; gap: 3rem; flex-wrap: wrap;">
                <div style="flex: 1; min-width: 300px;">
                    <h1>Porter Cook</h1>
                    <p class="hero-subtitle">Mechatronics Engineer | Problem Solver | Innovation Enthusiast</p>
                    <p>Passionate about building scalable solutions and creating impactful technology. Experienced in PLC's, Robotics and Software Development.</p>
                    <div style="display: flex; gap: 1rem; margin-top: 1.5rem; flex-wrap: wrap;">
                        <a href="#contact" class="cta-button">Get In Touch</a>
                        <a href="https://porterrockwell.github.io/path-to-your-resume.pdf" download class="cta-button" style="background: linear-gradient(135deg, #555, #333);">Download PDF Version of Resume</a>
                    </div>
                </div>
                <div style="flex: 0 0 250px;">
                    <img src="https://porterrockwell.github.io/Images/profile-photo.png" alt="Porter Cook" style="width: 100%; border-radius: 50%; border: 5px solid #2c5364; box-shadow: 0 10px 30px rgba(0,0,0,0.2);">
                </div>
            </div>
        </div>
    </section>

    <section id="about">
        <div class="content-box">
            <h2>About Me</h2>
            <p>I'm a dedicated Mechatronics Engineering student with hands-on experience in industrial automation, robotics, and software development. With expertise in PLC programming, robotic systems, and C# application development, I thrive in environments where innovation meets practical engineering solutions.</p>
            <p style="margin-top: 1rem;">My approach combines technical excellence with creative problem-solving, ensuring that every project delivers real value. From designing automated test equipment to programming robotic systems, I'm constantly learning and applying new technologies to create efficient, scalable solutions.</p>
        </div>
    </section>

    <section id="experience">
        <div class="content-box">
            <h2>Professional Experience</h2>
            
            <div class="experience-item">
                <h3>Automation Engineering Intern</h3>
                <p class="date">Baxter Aerospace | August 2024 - September 2025</p>
                <ul>
                    <li>Developed HVX (High Voltage Automated Test) system to test wire harnesses for continuity and perform high voltage testing</li>
                    <li>Created automated processes including wire testing equipment for Quality Assurance</li>
                    <li>Integrated PLC control for sensor data collection and process automation</li>
                    <li>Programmed robots (Yaskawa, Universal Robots, Fanuc) to automate manufacturing processes</li>
                    <li>Developed C# WPF applications linked to SQL databases for MES system work instructions and assembly lines</li>
                    <li>Worked in Research and Development for several beta automation projects</li>
                </ul>
            </div>

            <div class="experience-item">
                <h3>Maker Space Intern</h3>
                <p class="date">Innovation Plaza, Utah Tech University | August 2022 - May 2023</p>
                <ul>
                    <li>Trained individuals to use Laser Engravers, CNCs, and 3D Printers at the Makerspace</li>
                    <li>Fixed and installed several safety features to machinery such as E-stops and circuit breakers</li>
                    <li>Worked with individuals to design parts in Fusion 360 and SolidWorks including prosthetics and business-related items</li>
                    <li>Served as lead operator for the Stinger CNC machine, modified g-code, and created tool paths in Fusion 360</li>
                    <li>Gained hands-on experience in various software programs, increasing proficiency and expanding technical skill set</li>
                </ul>
            </div>

            <div class="experience-item">
                <h3>Engineering Intern</h3>
                <p class="date">Utah Tech University, Engineering Department | June 2022 - May 2022</p>
                <ul>
                    <li>Worked with Professor Dave Christiansen on Engineering Displays and design projects</li>
                    <li>Designed 3D models using Fusion 360, SolidWorks, and Visio</li>
                    <li>Brainstormed with Dr. Dave Christensen on different concepts for displays and implementing them into designs</li>
                    <li>Organized inventory and worked with maintenance on SLA printers and operation for nonessential projects</li>
                    <li>Created schedules and work plans for engineering projects</li>
                </ul>
            </div>

            <div class="experience-item">
                <h3>FSY Counselor</h3>
                <p class="date">Church of Jesus Christ of Latter-day Saints | May 2022 - August 2022</p>
                <ul>
                    <li>In charge of the welfare and safety of FSY attendees</li>
                    <li>Coordinated and teamed up with co-counselors on lesson plans to provide the best experience possible</li>
                    <li>Worked with Assistant Counselors and Coordinators to provide housing, food, and event safety</li>
                    <li>Introduced teachers and speakers before their lesson plans and discussions</li>
                </ul>
            </div>

            <div class="experience-item">
                <h3>Missionary</h3>
                <p class="date">Church of Jesus Christ of Latter-day Saints | May 2019 - May 2021</p>
                <ul>
                    <li>Taught a group of 12 missionaries how to effectively teach the gospel in Las Vegas</li>
                    <li>Proselytized in Las Vegas, Nevada, and Accra, Ghana</li>
                    <li>Monitored team performance, developed and recommended performance improvement plans</li>
                    <li>Served as Social Media Specialist for local Facebook group, monitored performance and outreach of ads</li>
                </ul>
            </div>
        </div>
    </section>

    <section id="skills">
        <div class="content-box">
            <h2>Technical Skills</h2>
            
            <h3>PLC & Automation</h3>
            <div class="skill-grid">
                <div class="skill-tag">Ladder Logic</div>
                <div class="skill-tag">Structured Text</div>
                <div class="skill-tag">Beckhoff PLC</div>
                <div class="skill-tag">Productivity Suite</div>
                <div class="skill-tag">SCADA</div>
                <div class="skill-tag">Industrial Wiring</div>
            </div>

            <h3>Robotics Programming</h3>
            <div class="skill-grid">
                <div class="skill-tag">Yaskawa</div>
                <div class="skill-tag">Universal Robots</div>
                <div class="skill-tag">Fanuc</div>
                <div class="skill-tag">Robot Control Systems</div>
            </div>

            <h3>Programming Languages</h3>
            <div class="skill-grid">
                <div class="skill-tag">C#</div>
                <div class="skill-tag">C++</div>
                <div class="skill-tag">SQL</div>
                <div class="skill-tag">HTML</div>
                <div class="skill-tag">Python</div>
            </div>

            <h3>CAD & Design Software</h3>
            <div class="skill-grid">
                <div class="skill-tag">AutoCAD Electrical</div>
                <div class="skill-tag">Fusion 360</div>
                <div class="skill-tag">SolidWorks</div>
                <div class="skill-tag">Onshape</div>
                <div class="skill-tag">FeatureScript</div>
                <div class="skill-tag">Visio</div>
                <div class="skill-tag">CAD/CAM</div>
            </div>

            <h3>Software Development</h3>
            <div class="skill-grid">
                <div class="skill-tag">WPF Applications</div>
                <div class="skill-tag">SQL Databases</div>
            </div>

            <h3>Core Competencies</h3>
            <div class="skill-grid">
                <div class="skill-tag">Problem-Solving</div>
                <div class="skill-tag">Teamwork</div>
                <div class="skill-tag">Attention to Detail</div>
                <div class="skill-tag">Creative Solutions</div>
                <div class="skill-tag">Hard Working</div>
            </div>
        </div>
    </section>

    <section id="portfolio">
        <div class="content-box">
            <h2>Professional Projects</h2>
            
            <div class="project-grid">
                <div class="project-card">
                    <img src="https://porterrockwell.github.io/Images/hvx_shadow.png" alt="HVX High Voltage Test System">
                    <h3>HVX High Voltage Automated Test System</h3>
                    <p>Developed an automated test system at Baxter Aerospace that senses wire harnesses to check for continuity and performs high voltage testing. The system integrates PLC control with custom test sequences to ensure quality and safety in aerospace wire harness manufacturing.</p>
                    <div class="project-tech">
                        <span class="tech-badge">PLC Programming</span>
                        <span class="tech-badge">C# WPF</span>
                        <span class="tech-badge">SQL Database</span>
                        <span class="tech-badge">Industrial Automation</span>
                        <span class="tech-badge">Quality Assurance</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="school-projects">
        <div class="content-box">
            <h2>School Projects</h2>
            
            <div class="project-grid">
                <div class="project-card">
                    <img src="https://porterrockwell.github.io/Images/fire_knife.png" alt="Fire Knife">
                    <h3>Fire Knife - Additive Manufacturing Final Project</h3>
                    <p>Created a functional fire knife using additive manufacturing techniques. The knife uses a butane cartridge with a custom-built valve to control gas flow. Inspired by CO2 diver knives, this project combined principles of both stove design and folding knife mechanisms.</p>
                    <div class="project-tech">
                        <span class="tech-badge">SolidWorks</span>
                        <span class="tech-badge">CNC Machining</span>
                        <span class="tech-badge">Additive Manufacturing</span>
                        <span class="tech-badge">CAD Design</span>
                    </div>
                    <ul style="margin-top: 1rem;">
                        <li>Designed complete assembly in SolidWorks with Bill of Materials</li>
                        <li>Manufactured internal retainer using CNC with keyway tool for retaining rings</li>
                        <li>Created custom valve body with exploded view documentation</li>
                        <li>Combined folding knife and stove design principles</li>
                    </ul>
                </div>

                <div class="project-card">
                    <img src="https://porterrockwell.github.io/Images/AR4_Robot.png" alt="AR4 Robotic Arm">
                    <h3>AR4 6-Axis Robotic Arm - Systems Design Final</h3>
                    <p>Designed and built a complete 6-axis robotic arm system showcasing principles from System Design class. The robot runs on a Teensy 4.1 board with PLC control integration, featuring both standalone and PLC-triggered operation modes.</p>
                    <div class="project-tech">
                        <span class="tech-badge">Fusion 360</span>
                        <span class="tech-badge">PLC Control</span>
                        <span class="tech-badge">Teensy 4.1</span>
                        <span class="tech-badge">Motor Control</span>
                        <span class="tech-badge">Robotics</span>
                    </div>
                    <ul style="margin-top: 1rem;">
                        <li>Complete assembly design in Fusion 360</li>
                        <li>Integrated Teensy 4.1 as main onboard controller</li>
                        <li>Implemented dual control modes: PLC discrete output and Teensy interface</li>
                        <li>Designed control cabinet for AMC motor control integration</li>
                        <li>Pre-programmed motion sequences triggered by PLC</li>
                    </ul>
                </div>

                <div class="project-card">
                    <img src="https://porterrockwell.github.io/Images/PLC_Cabinet.png" alt="PLC Cabinet">
                    <h3>PLC Cabinet - Programmable Logic Controllers Final</h3>
                    <p>Constructed a comprehensive PLC training cabinet from blueprints to simulate industrial work environments. The cabinet integrates P3000 PLCs, safety relays, HMI screens, motion controllers, and various industrial sensors for hands-on learning.</p>
                    <div class="project-tech">
                        <span class="tech-badge">PLC Programming</span>
                        <span class="tech-badge">Industrial Wiring</span>
                        <span class="tech-badge">HMI Interface</span>
                        <span class="tech-badge">Safety Systems</span>
                        <span class="tech-badge">SCADA</span>
                    </div>
                    <ul style="margin-top: 1rem;">
                        <li>Constructed cabinet with P3000 PLCs, safety relays, and pilot lights</li>
                        <li>Integrated Ethernet junction boxes and HMI screens</li>
                        <li>Installed solid state relays, electromagnetic relays, and high-speed encoders</li>
                        <li>Wired motion controllers and NPN/PNP sensors</li>
                        <li>Referenced specification sheets for proper component integration without supervision</li>
                        <li>Simulated real industrial work environment as lead Mechatronic Engineer</li>
                    </ul>
                </div>

                <div class="project-card">
                    <img src="https://porterrockwell.github.io/Images/Personal_PLC_Cabinet.png" alt="Personal PLC Cabinet">
                    <h3>Personal PLC Cabinet - Independent Project</h3>
                    <p>Designed and built a personal PLC testing cabinet for prototyping automated systems. Features both Direct Logic 05 fixed PLC and Direct Logic 205 modular PLC to understand different PLC architectures and interfaces.</p>
                    <div class="project-tech">
                        <span class="tech-badge">Direct Logic PLCs</span>
                        <span class="tech-badge">Cabinet Design</span>
                        <span class="tech-badge">Automation Testing</span>
                        <span class="tech-badge">Prototyping</span>
                    </div>
                    <ul style="margin-top: 1rem;">
                        <li>Custom cabinet design for personal automation projects</li>
                        <li>Integrated Direct Logic 05 Koyo fixed PLC</li>
                        <li>Installed Direct Logic 205 modular PLC</li>
                        <li>Created test environment for prototype automation ideas</li>
                        <li>Learned differences between fixed and modular PLC interfaces</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <section id="education">
        <div class="content-box">
            <h2>Education</h2>
            
            <div class="education-item">
                <h3>Bachelor of Science in Mechatronics Engineering</h3>
                <p class="date">Utah Tech University - St. George, UT | Expected January 2026</p>
                <p style="margin-top: 0.5rem;"><strong>Relevant Coursework:</strong> Industrial Networking, SCADA, Industrial Wiring, Robotics, Programmable Logic Controllers, Computer Aided Manufacturing, Computer Aided Design, Ladder Logic, Systems Design, Additive Manufacturing</p>
            </div>

            <div class="education-item">
                <h3>Associate of Science in Pre-Engineering</h3>
                <p class="date">Utah Tech University - St. George, UT | May 2023</p>
            </div>

            <h3 style="margin-top: 2rem;">Certifications</h3>
            <ul>
                <li>Beckhoff Structured Text Certified</li>
            </ul>
        </div>
    </section>

<section id="contact">
        <div class="content-box">
            <h2>Get In Touch</h2>
            <p>I'm always interested in hearing about new opportunities and collaborations. Feel free to reach out!</p>
            
            <div class="contact-info">
                <div class="contact-item">
                    <strong>Email:</strong> porterrockswell@gmail.com
                </div>
                <div class="contact-item">
                    <strong>Phone:</strong> (435) 272-5708
                </div>
                <div class="contact-item">
                    <strong>LinkedIn:</strong> linkedin.com/in/porterrockwell
                </div>
                <div class="contact-item">
                    <strong>GitHub:</strong> github.com/porterrockwell
                </div>
                <div class="contact-item">
                    <strong>Location:</strong> 46 W 200 N, Ivins, UT 84738
                </div>
            </div>
            
<section id="contact">
        <h2>Get In Touch</h2>
        <div class="contact-info">
            <p>Feel free to reach out for collaborations or just a friendly chat!</p>
            <a href="mailto:john@example.com">ðŸ“§ john@example.com</a>
            <a href="https://github.com/johndoe">ðŸ’» GitHub</a>
            <a href="https://linkedin.com/in/johndoe">ðŸ’¼ LinkedIn</a>
            
            <div style="text-align: center; margin-top: 3rem; padding-top: 2rem; border-top: 1px solid #ddd;">
                <button onclick="startGame()" style="background: none; border: none; color: #888; font-size: 0.9rem; cursor: pointer; padding: 10px;">
                    ðŸ‘¾ Click here for a surprise...
                </button>
            </div>
        </div>
    </section>

 <div id="space-invaders" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.95); z-index: 10000;">
        <div style="position: absolute; top: 20px; right: 20px; color: white; font-size: 1.2rem; cursor: pointer;" onclick="closeGame()">âœ• Close</div>
        <canvas id="gameCanvas" style="display: block; margin: auto;"></canvas>
        <div style="position: absolute; bottom: 20px; left: 50%; transform: translateX(-50%); color: white; text-align: center;">
            <p style="margin: 5px;">Arrow Keys: Move | Spacebar: Shoot</p>
            <p style="margin: 5px; font-size: 1.2rem;">Score: <span id="score">0</span> | Lives: <span id="lives">3</span></p>
        </div>
    </div>

    <script>
        // Smooth scrolling
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                document.querySelector(this.getAttribute('href')).scrollIntoView({
                    behavior: 'smooth'
                });
            });
        });

        // Game variables
        let canvas, ctx;
        let player, aliens, bullets, alienBullets;
        let score = 0;
        let lives = 3;
        let gameRunning = false;
        let keys = {};
        let alienDirection = 1;
        let alienSpeed = 1;

        function startGame() {
            document.getElementById('space-invaders').style.display = 'block';
            canvas = document.getElementById('gameCanvas');
            canvas.width = 800;
            canvas.height = 600;
            ctx = canvas.getContext('2d');
            
            initGame();
            gameRunning = true;
            gameLoop();
        }

        function closeGame() {
            gameRunning = false;
            document.getElementById('space-invaders').style.display = 'none';
        }

        function initGame() {
            player = { x: 375, y: 550, width: 50, height: 30, speed: 5 };
            bullets = [];
            alienBullets = [];
            aliens = [];
            score = 0;
            lives = 3;
            alienDirection = 1;
            alienSpeed = 1;

            for (let row = 0; row < 4; row++) {
                for (let col = 0; col < 8; col++) {
                    aliens.push({
                        x: col * 80 + 80,
                        y: row * 60 + 50,
                        width: 40,
                        height: 30,
                        alive: true
                    });
                }
            }

            updateScore();
        }

        function gameLoop() {
            if (!gameRunning) return;

            ctx.fillStyle = '#000';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            // Move player
            if (keys['ArrowLeft'] && player.x > 0) player.x -= player.speed;
            if (keys['ArrowRight'] && player.x < canvas.width - player.width) player.x += player.speed;

            // Draw player
            ctx.fillStyle = '#0f0';
            ctx.fillRect(player.x, player.y, player.width, player.height);

            // Move and draw bullets
            bullets = bullets.filter(b => {
                b.y -= 7;
                ctx.fillStyle = '#ff0';
                ctx.fillRect(b.x, b.y, 3, 10);
                return b.y > 0;
            });

            // Move aliens
            let hitEdge = false;
            aliens.forEach(a => {
                if (a.alive) {
                    if (a.x <= 0 || a.x >= canvas.width - a.width) hitEdge = true;
                }
            });

            if (hitEdge) {
                alienDirection *= -1;
                aliens.forEach(a => { if (a.alive) a.y += 20; });
            }

            aliens.forEach(a => {
                if (a.alive) a.x += alienDirection * alienSpeed;
            });

            // Draw aliens
            aliens.forEach(a => {
                if (a.alive) {
                    ctx.fillStyle = '#f0f';
                    ctx.fillRect(a.x, a.y, a.width, a.height);
                }
            });

            // Alien shooting
            if (Math.random() < 0.02) {
                const aliveAliens = aliens.filter(a => a.alive);
                if (aliveAliens.length > 0) {
                    const shooter = aliveAliens[Math.floor(Math.random() * aliveAliens.length)];
                    alienBullets.push({ x: shooter.x + shooter.width / 2, y: shooter.y + shooter.height });
                }
            }

            // Move and draw alien bullets
            alienBullets = alienBullets.filter(b => {
                b.y += 4;
                ctx.fillStyle = '#f00';
                ctx.fillRect(b.x, b.y, 3, 10);
                
                // Check collision with player
                if (b.x > player.x && b.x < player.x + player.width &&
                    b.y > player.y && b.y < player.y + player.height) {
                    lives--;
                    updateScore();
                    if (lives <= 0) {
                        alert('Game Over! Score: ' + score);
                        closeGame();
                    }
                    return false;
                }
                return b.y < canvas.height;
            });

            // Collision detection
            bullets.forEach((b, bi) => {
                aliens.forEach((a, ai) => {
                    if (a.alive && b.x > a.x && b.x < a.x + a.width &&
                        b.y > a.y && b.y < a.y + a.height) {
                        a.alive = false;
                        bullets.splice(bi, 1);
                        score += 10;
                        updateScore();
                    }
                });
            });

            // Check win condition
            if (aliens.every(a => !a.alive)) {
                alert('You Win! Score: ' + score);
                initGame();
            }

            // Check lose condition
            if (aliens.some(a => a.alive && a.y > 520)) {
                alert('Game Over! Aliens reached Earth! Score: ' + score);
                closeGame();
            }

            requestAnimationFrame(gameLoop);
        }

        function updateScore() {
            document.getElementById('score').textContent = score;
            document.getElementById('lives').textContent = lives;
        }

        document.addEventListener('keydown', e => {
            keys[e.key] = true;
            if (e.key === ' ' && gameRunning) {
                e.preventDefault();
                bullets.push({ x: player.x + player.width / 2, y: player.y });
            }
        });

        document.addEventListener('keyup', e => {
            keys[e.key] = false;
        });
    </script>
</body>
</html>
